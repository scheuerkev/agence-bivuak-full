extends ../layout.pug 

block content 
    header.blog-head
        .container.px-4.px-lg-5
            .row.gx-4.gx-5-lg.align-items-center.justify-content-between.text-center.flex-column
                .col-lg-8 
                    h2.master-head--subheading.text-uppercase.font-weight-bold.text-dark Agence Bivuak
                    hr.divider.my-1.my-xs-3
                    h1.master-head--heading.text-dark Ajouter un article 
    main
        section.add-article 
            .container 
                .row.justify-content-center
                    .col-sm-10
                        form#post-content(method="post" action= post._id ? "/blog/update/" + post._id : "/blog/")
                            .mb-3
                                label.form-label(for="title") Titre de l'article
                                input.form-control#title(required name="title" aria-describedby="titleHelp" value= post.title)
                                .form-text#titleHelp Le titre de l'article sera mis en forme pour servir dans l'URL du post
                            .mb-3    
                                label(for="content") Extrait
                                input.form-control#content(name="content" aria-describedby="contentHelp" value= post.content)
                                .form-text#contentHelp Un court extrait de l'article qui sera servi sur la page avec la liste de tous les articles
                            .mb-3    
                                label(for="markdown") Markdown
                                textarea.form-control#markdown(name="markdown" aria-describedby="markdownHelp")= post.markdown
                                .form-text#markdownHelp Le contenu de l'article en markdown
                        form#image-content(action="/users/update/image" method="post" enctype="multipart/form-data")
                            .mb-3
                                    label.form-label(for="hero-image") Image à la une
                                    input.form-control#hero-image(name="img" aria-describedby="heroImgHelp" value= post.img)
                                    .form-text#heroImgHelp L'image à la une de l'article
                            if errors 
                                ul.my-2 
                                    each error in errors
                                        li.text-danger= error    
                            .w-100 
                                input.btn.btn-primary.ms-auto.d-block#createPost(value="Poster")
    include ../includes/footer.pug
    include ../includes/scripts.pug
    script(src="/js/add-post.js")